{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Baburaj\\\\hyundaidashboard\\\\src\\\\components\\\\vertical_dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Navbar, Brand, Container, Table, Nav, Dropdown, Button, CardGroup, Card, Form, Row, Col } from \"react-bootstrap\";\nimport logo_hyundai from '../img/MOBIS_LOGO.png';\nimport logo_hyundai1 from \"../img/Icon ionic-md-arrow-dropdown.svg\";\nimport Dropdowns from '../components/select_dropdown';\nimport \"./vertical_dashboard.css\";\nimport axios from 'axios';\nimport Select from 'react-select';\nimport { trackPromise } from 'react-promise-tracker';\nimport $ from 'jquery';\nimport Dashboard from '../components/dashboard';\nimport jQuery from 'jquery';\nimport moment from 'moment';\nimport DateRangePicker from 'react-bootstrap-daterangepicker';\nimport ReactPaginate from 'react-paginate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst customStyles = {\n  option: (provided, state) => ({ ...provided,\n    borderBottom: '2px dotted green',\n    color: state.isSelected ? 'yellow' : 'black',\n    backgroundColor: state.isSelected ? 'green' : 'white'\n  }),\n  control: provided => ({ ...provided,\n    marginTop: \"5%\"\n  })\n};\nconst options1 = [{\n  value: 'National',\n  label: 'National'\n}, {\n  value: 'Region',\n  label: 'Region'\n}, {\n  value: 'Dealer',\n  label: 'Dealer'\n}];\n\nfunction Vertical() {\n  _s();\n\n  const [pageResponse, pageCountResponse] = useState({\n    page_count: null\n  });\n  const [showForm, setShowForm] = useState('National');\n  const [resp, setGitData] = useState({\n    data: null,\n    repos: null\n  });\n  const [selectValue, setSelectValue] = useState('');\n  const [state, setState] = useState({\n    start: moment().subtract(100, 'days'),\n    end: moment().subtract(70, 'days')\n  });\n  const [response, setResponse] = useState({\n    resonse_data: null\n  });\n  let comp, comp1;\n\n  const handleAddrTypeChange = e => {\n    if (e.value == \"Region\") {\n      var region_east = localStorage.getItem(\"region_east\");\n      setSelectValue(region_east);\n    } else if (e.value == \"Dealer\") {\n      var dealer = localStorage.getItem(\"dealer\");\n      setSelectValue(dealer);\n    } else if (e.value == \"National\") {\n      setSelectValue(' ');\n    }\n\n    setShowForm(e.value);\n  };\n\n  const handleAddrTypeChange1 = e => {\n    setSelectValue(e.value);\n  };\n\n  const handleAddrTypeChange2 = e => {\n    setSelectValue(e.value);\n  };\n\n  const fetchData = async () => {\n    const respGlobal = await axios.get(`https://kmi-salessatisfaction.apprikart.com/secured_api/dashboard_api/get_dealer_list/?username=login1&permission=[%22KIA%22]&start_date=01/01/2021&end_date=30/01/2021&report_type=DCSI`);\n    const respRepos = await axios.get('https://kmi-salessatisfaction.apprikart.com/secured_api/dashboard_api/get_region_list/', {\n      params: {\n        username: 'login',\n        permission: '[\"KIA\"]',\n        start_date: '01/01/2021',\n        end_date: '30/01/2021',\n        report_type: 'DCSI'\n      }\n    });\n    setGitData({\n      data: respGlobal.data,\n      repos: respRepos.data\n    });\n    localStorage.setItem(\"region_east\", resp.repos[0].value);\n    localStorage.setItem(\"dealer\", resp.data[0].value);\n  };\n\n  const fetchData1 = async () => {\n    const dashApi = await axios.get('https://kmi-salessatisfaction.apprikart.com/secured_api/dashboard_api/get_table_data/', {\n      params: {\n        username: 'login',\n        hierarchy: showForm,\n        dealer_code: selectValue,\n        region_name: selectValue,\n        permission: '[\"KIA\"]',\n        start_date: state.start.format('DD/MM/YYYY'),\n        end_date: state.end.format('DD/MM/YYYY'),\n        report_type: 'DCSI'\n      }\n    });\n    setResponse({\n      resonse_data: dashApi.data\n    });\n    pageCountResponse({\n      page_count: Math.ceil(dashApi.data.meta.total_records / dashApi.data.meta.record_limit_per_page)\n    });\n    console.log(pageResponse.page_count);\n  };\n\n  useEffect(() => {\n    trackPromise(fetchData());\n    trackPromise(fetchData1());\n  }, [showForm, state, selectValue]);\n\n  if (showForm == 'Region') {\n    comp = /*#__PURE__*/_jsxDEV(Select, {\n      className: \"col-md-2 col-offset-4\",\n      styles: customStyles,\n      options: resp.repos,\n      defaultValue: resp.repos[0],\n      onChange: e => handleAddrTypeChange1(e)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this);\n  } else if (showForm == 'Dealer') {\n    comp1 = /*#__PURE__*/_jsxDEV(Select, {\n      className: \"col-md-2 col-offset-4\",\n      styles: customStyles,\n      options: resp.data,\n      defaultValue: resp.data[0],\n      onChange: e => handleAddrTypeChange2(e)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }, this);\n  }\n\n  const handleEvent = e => {\n    console.log(e.ranges);\n  };\n\n  console.log(state.start.format('DD/MM/YYYY') + \"-\" + state.end.format('DD/MM/YYYY'));\n  const {\n    start,\n    end\n  } = state;\n\n  const handleCallback = (start, end) => {\n    setState({\n      start,\n      end\n    });\n  };\n\n  const label = start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY');\n\n  if (response.resonse_data) {\n    var getKey = Object.keys(response.resonse_data.table_data[0]);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      bg: \"light1\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n        href: \"#home\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo_hyundai\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 32\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n        className: \"justify-content-end\",\n        children: /*#__PURE__*/_jsxDEV(Navbar.Text, {\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#login\",\n            style: {\n              marginRight: '20px',\n              color: '#707070',\n              fontFamily: \"Hyundai Sans Head Office\"\n            },\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo_hyundai1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Nav, {\n      style: {\n        borderBottom: '1px solid #B2B2B2',\n        margin: '10px'\n      },\n      defaultActiveKey: \"vertical_dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(Nav.Item, {\n        children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n          href: \"/\",\n          style: {\n            fontFamily: \"Hyundai Sans Head Office\"\n          },\n          children: \"Vertical Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n        children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n          href: \"vertical_dashboard\",\n          style: {\n            fontFamily: \"Hyundai Sans Head Office\"\n          },\n          children: \"Horizontal Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(Nav.Item, {\n        className: \"justify-content-end\",\n        style: {\n          flex: '1'\n        },\n        children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n          eventKey: \"disabled\",\n          style: {\n            textAlign: 'right',\n            color: '#0A0A0A',\n            fontFamily: \"Hyundai Sans Head Office\"\n          },\n          children: \"Dowload Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          margin: '1px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(DateRangePicker, {\n          initialSettings: {\n            startDate: start.toDate(),\n            endDate: end.toDate()\n          },\n          onCallback: handleCallback,\n          styles: customStyles,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"someRandomID\",\n            className: \"col-sm-2 col-offset-4\",\n            style: {\n              height: '40px',\n              margin: '10px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          className: \"col-sm-2 col-offset-4\",\n          styles: customStyles,\n          defaultValue: {\n            value: 'National',\n            label: 'National'\n          },\n          options: options1,\n          onChange: e => handleAddrTypeChange(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 6\n        }, this), comp, comp1]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          margin: '5px'\n        },\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          responsive: true,\n          className: \"styled-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: response.resonse_data && getKey.map((key, index) => {\n                return /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: key\n                }, key, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 22\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: response.resonse_data && response.resonse_data.table_data.map((element, index) => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: getKey.map((keys, indexs) => {\n                  return /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: element[keys]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 10\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 33\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 1\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 1\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Vertical, \"/b18zSie/OzZJPqfcuZrz1FiSks=\");\n\n_c = Vertical;\nexport default Vertical;\n\nvar _c;\n\n$RefreshReg$(_c, \"Vertical\");","map":{"version":3,"sources":["C:/Users/Baburaj/hyundaidashboard/src/components/vertical_dashboard.js"],"names":["React","useState","useEffect","Navbar","Brand","Container","Table","Nav","Dropdown","Button","CardGroup","Card","Form","Row","Col","logo_hyundai","Dropdowns","axios","Select","trackPromise","$","Dashboard","jQuery","moment","DateRangePicker","ReactPaginate","customStyles","option","provided","state","borderBottom","color","isSelected","backgroundColor","control","marginTop","options1","value","label","Vertical","pageResponse","pageCountResponse","page_count","showForm","setShowForm","resp","setGitData","data","repos","selectValue","setSelectValue","setState","start","subtract","end","response","setResponse","resonse_data","comp","comp1","handleAddrTypeChange","e","region_east","localStorage","getItem","dealer","handleAddrTypeChange1","handleAddrTypeChange2","fetchData","respGlobal","get","respRepos","params","username","permission","start_date","end_date","report_type","setItem","fetchData1","dashApi","hierarchy","dealer_code","region_name","format","Math","ceil","meta","total_records","record_limit_per_page","console","log","handleEvent","ranges","handleCallback","getKey","Object","keys","table_data","marginRight","fontFamily","logo_hyundai1","margin","flex","textAlign","startDate","toDate","endDate","height","map","key","index","element","indexs"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Navbar, Brand, Container, Table, Nav, Dropdown, Button, CardGroup, Card, Form, Row, Col } from \"react-bootstrap\";\r\nimport logo_hyundai from '../img/MOBIS_LOGO.png';\r\nimport logo_hyundai1 from '../img/Icon ionic-md-arrow-dropdown.svg'\r\nimport Dropdowns from '../components/select_dropdown'\r\nimport \"./vertical_dashboard.css\";\r\nimport axios from 'axios';\r\nimport Select from 'react-select';\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport $ from 'jquery';\r\nimport Dashboard from '../components/dashboard'\r\nimport jQuery from 'jquery';\r\nimport moment from 'moment';\r\nimport DateRangePicker from 'react-bootstrap-daterangepicker';\r\nimport ReactPaginate from 'react-paginate';\r\n\r\n\r\n\r\nconst customStyles = {\r\n    option: (provided, state) => ({\r\n      ...provided,\r\n      borderBottom: '2px dotted green',\r\n      color: state.isSelected ? 'yellow' : 'black',\r\n      backgroundColor: state.isSelected ? 'green' : 'white'\r\n    }),\r\n    control: (provided) => ({\r\n      ...provided,\r\n      marginTop: \"5%\",\r\n    })\r\n  };\r\n\r\n\r\n\r\n  const options1 = [\r\n    { value: 'National', label: 'National' },\r\n    { value: 'Region', label: 'Region' },\r\n    { value: 'Dealer', label: 'Dealer' }\r\n  ]\r\n\r\nfunction Vertical() {\r\n\r\n  const [pageResponse, pageCountResponse] = useState({page_count : null});\r\n\r\n    const [showForm, setShowForm] = useState('National');\r\n    const [resp, setGitData] = useState({ data: null, repos: null });\r\n    const [selectValue, setSelectValue] = useState('');\r\n    const [state, setState] = useState({\r\n      start: moment().subtract(100, 'days'),\r\n      end: moment().subtract(70, 'days'),\r\n    });\r\n    const [response, setResponse] = useState({ resonse_data: null});\r\n\r\n    let comp , comp1;\r\n\r\n    const handleAddrTypeChange = (e) => \r\n  { \r\n\r\n\r\n  \r\n\r\n    if(e.value == \"Region\")\r\n    {\r\n      var region_east = localStorage.getItem(\"region_east\")\r\n      setSelectValue(region_east);\r\n    }\r\n    else if(e.value == \"Dealer\")\r\n    {\r\n      var dealer  = localStorage.getItem(\"dealer\");\r\n      setSelectValue(dealer);\r\n  \r\n    }\r\n    else if(e.value == \"National\")\r\n    {\r\n      setSelectValue(' ');\r\n\r\n    }\r\n\r\n\r\n    setShowForm(e.value)\r\n\r\n\r\n  }\r\n\r\n  const handleAddrTypeChange1 = (e) => \r\n  { \r\n    setSelectValue((e.value)); \r\n\r\n  \r\n\r\n  }\r\n\r\n  const handleAddrTypeChange2 = (e) => \r\n  { \r\n    setSelectValue((e.value)); \r\n\r\n   \r\n\r\n  }\r\n\r\n  const fetchData = async () => {\r\n\r\n\r\n    const respGlobal = await axios.get(\r\n      `https://kmi-salessatisfaction.apprikart.com/secured_api/dashboard_api/get_dealer_list/?username=login1&permission=[%22KIA%22]&start_date=01/01/2021&end_date=30/01/2021&report_type=DCSI`\r\n    );\r\n    const respRepos = await axios.get(\r\n      'https://kmi-salessatisfaction.apprikart.com/secured_api/dashboard_api/get_region_list/',{ params: { username: 'login' , permission : '[\"KIA\"]' , start_date : '01/01/2021' , end_date : '30/01/2021' , report_type :'DCSI'  } },\r\n      \r\n      );\r\n\r\n  \r\n\r\n    setGitData({ data: respGlobal.data, repos: respRepos.data })\r\n\r\n    \r\n\r\n    localStorage.setItem(\"region_east\",resp.repos[0].value);\r\n    localStorage.setItem(\"dealer\",resp.data[0].value);\r\n\r\n  };\r\n\r\n  const fetchData1 = async () => {\r\n\r\n\r\n    const dashApi = await axios.get(\r\n      'https://kmi-salessatisfaction.apprikart.com/secured_api/dashboard_api/get_table_data/',{ params : {username: 'login' , hierarchy : showForm , dealer_code : selectValue , region_name  : selectValue , permission : '[\"KIA\"]', start_date : state.start.format('DD/MM/YYYY') , end_date : state.end.format('DD/MM/YYYY'), report_type : 'DCSI' } },\r\n    );\r\n\r\n    setResponse({ resonse_data: dashApi.data})\r\n    pageCountResponse({ page_count: Math.ceil(dashApi.data.meta.total_records / dashApi.data.meta.record_limit_per_page)})\r\n\r\n    console.log(pageResponse.page_count)\r\n\r\n    \r\n\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    \r\n    trackPromise(\r\n      fetchData()\r\n    );\r\n\r\n\r\n    trackPromise(\r\n      fetchData1()\r\n    );\r\n   \r\n \r\n\r\n  }, [showForm,state,selectValue]);\r\n\r\n\r\n \r\n \r\n\r\n\r\n\r\n  if (showForm == 'Region') {\r\n  \r\n\r\n    comp =  <Select className=\"col-md-2 col-offset-4\"  styles = { customStyles } options = {resp.repos}  defaultValue={resp.repos[0]}\r\n    onChange={e => handleAddrTypeChange1(e)}     \r\n    />\r\n\r\n  }\r\n  else if(showForm == 'Dealer')\r\n  {\r\n    \r\n    comp1 = <Select className=\"col-md-2 col-offset-4\"\r\n    styles = { customStyles } \r\n    options = {resp.data} \r\n    defaultValue={resp.data[0]}\r\n    onChange={e => handleAddrTypeChange2(e)}  \r\n/>\r\n  }\r\n\r\n\r\n  const handleEvent = (e) => \r\n{\r\n    console.log(e.ranges);\r\n  }\r\n\r\n \r\n\r\n\r\n\r\n  console.log(state.start.format('DD/MM/YYYY') + \"-\"+ state.end.format('DD/MM/YYYY'))\r\n\r\n  const { start, end } = state;\r\n  const handleCallback = (start, end) => {\r\n    setState({ start, end });\r\n  };\r\n  const label =\r\n  start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY');\r\n\r\n\r\n\r\n  if(response.resonse_data)\r\n  {\r\n    var  getKey = Object.keys(response.resonse_data.table_data[0])\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n   \r\n    <>\r\n    <Navbar bg=\"light1\">\r\n    <Navbar.Brand href=\"#home\"><img src={logo_hyundai} />\r\n    </Navbar.Brand>\r\n    <Navbar.Toggle />\r\n  <Navbar.Collapse className=\"justify-content-end\">\r\n    <Navbar.Text>\r\n     <a href=\"#login\" style={{marginRight:'20px',color:'#707070',fontFamily: \"Hyundai Sans Head Office\"}}>Logout</a>\r\n     <a href=\"#\"></a>\r\n     <img src={logo_hyundai1} />\r\n    </Navbar.Text>\r\n  </Navbar.Collapse>\r\n  </Navbar>\r\n\r\n  <Nav\r\n   style={{borderBottom :'1px solid #B2B2B2',     margin: '10px'}}\r\n   defaultActiveKey=\"vertical_dashboard\"\r\n>\r\n  <Nav.Item>\r\n    <Nav.Link href=\"/\" style={{fontFamily: \"Hyundai Sans Head Office\"}}>Vertical Dashboard</Nav.Link>\r\n  </Nav.Item>\r\n  <Nav.Item>\r\n    <Nav.Link href=\"vertical_dashboard\"  style={{fontFamily: \"Hyundai Sans Head Office\"}}>Horizontal Dashboard</Nav.Link>\r\n  </Nav.Item>\r\n \r\n  <Nav.Item className=\"justify-content-end\" style={{    flex: '1'}}>\r\n    <Nav.Link eventKey=\"disabled\" style={{    textAlign: 'right',color:'#0A0A0A',fontFamily: \"Hyundai Sans Head Office\"}}>\r\n      Dowload Report\r\n    </Nav.Link>\r\n  </Nav.Item>\r\n\r\n</Nav>\r\n\r\n\r\n<Container fluid >\r\n        <Row style={{margin:'1px'}}>\r\n\r\n    \r\n\r\n   \r\n        <DateRangePicker    initialSettings={{\r\n          startDate: start.toDate(),\r\n          endDate: end.toDate()\r\n        }}\r\n        onCallback={handleCallback}\r\n\r\n   styles = { customStyles }\r\n >\r\n        <input id = \"someRandomID\" className=\"col-sm-2 col-offset-4\"  style={{    height: '40px', margin: '10px'}}/>\r\n      </DateRangePicker>\r\n    \r\n     <Select className=\"col-sm-2 col-offset-4\" \r\n     styles = { customStyles }\r\n     defaultValue={{ value: 'National', label: 'National' }}\r\n  options = {options1} \r\n  onChange={e => handleAddrTypeChange(e)}\r\n\r\n\r\n  \r\n  />\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n{comp}\r\n{comp1}\r\n\r\n\r\n\r\n</Row>\r\n</Container >\r\n\r\n\r\n<Container fluid>\r\n\r\n\r\n<Row style={{margin:'5px'}}>\r\n\r\n<Table responsive className=\"styled-table\">\r\n                <thead>\r\n        <tr >\r\n          { response.resonse_data && getKey.map((key, index) => {\r\n              return <th key={key}>{key}</th>\r\n          })}\r\n        </tr>\r\n                </thead>\r\n                <tbody>\r\n                    \r\n               {  \r\n               response.resonse_data &&  (response.resonse_data.table_data).map((element,index) => {\r\n               \r\n                 \r\n                     return  (  <tr>\r\n{\r\ngetKey.map((keys, indexs) => \r\n{\r\n  return <td>{element[keys]}</td>\r\n})\r\n\r\n}\r\n                             </tr>  \r\n                     )\r\n                 \r\n\r\n                 \r\n                    })\r\n                }\r\n                </tbody>\r\n            </Table>\r\n\r\n</Row>\r\n\r\n\r\n</Container>\r\n\r\n\r\n\r\n \r\n</>\r\n\r\n\r\n  );\r\n}\r\n\r\nexport default Vertical;\r\n"]},"metadata":{},"sourceType":"module"}